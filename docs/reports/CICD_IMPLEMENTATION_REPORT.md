# –ü–æ–¥–∑–∞–¥–∞—á–∞ 5.6: CI/CD Pipeline (GitHub Actions) –∏ —Å–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è

**–î–∞—Ç–∞:** 5 —Ñ–µ–≤—Ä–∞–ª—è 2026
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π CI/CD pipeline —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub Actions –∏ —Å–æ–∑–¥–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è, –æ—Ç–∫–∞—Ç–∞, —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## 1. GitHub Actions Workflows

### 1.1. CI Pipeline (`.github/workflows/ci.yml`)

#### –¢—Ä–∏–≥–≥–µ—Ä—ã
- Push –Ω–∞ –≤–µ—Ç–∫–∏ `main` –∏ `develop`
- Pull Request –Ω–∞ —ç—Ç–∏ –≤–µ—Ç–∫–∏
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (workflow_dispatch)

#### Jobs

##### a) Linting
**–ó–∞–¥–∞—á–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é Black (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–º–æ—â—å—é isort (–∏–º–ø–æ—Ä—Ç—ã)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–º–æ—â—å—é Flake8 (—Å—Ç–∏–ª—å –∫–æ–¥–∞)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–º–æ—â—å—é MyPy (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- MyPy –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å `continue-on-error` –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

##### b) Tests
**–ó–∞–¥–∞—á–∏:**
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å pytest
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ > 80%
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á–µ—Ç–æ–≤
- Upload –Ω–∞ Codecov

**–°–µ—Ä–≤–∏—Å—ã:**
- PostgreSQL 15-alpine (—Ç–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- Redis 7-alpine (—Ç–µ—Å—Ç–æ–≤—ã–π –∫—ç—à)

**–≠—Ç–∞–ø—ã:**
1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
3. –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
4. –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
5. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å coverage
6. Upload –æ—Ç—á–µ—Ç–æ–≤ –Ω–∞ Codecov
7. Upload –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (HTML coverage, test results)

##### c) Build
**–ó–∞–¥–∞—á–∏:**
- –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤ (API –∏ Worker)
- Push –≤ GitHub Container Registry (ghcr.io)
- –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤:
  - –ü–æ –≤–µ—Ç–∫–µ
  - –ü–æ PR
  - –ü–æ semver –≤–µ—Ä—Å–∏–∏
  - –ü–æ SHA –∫–æ–º–º–∏—Ç–∞
  - Latest –¥–ª—è main –≤–µ—Ç–∫–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BuildKit –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- Multi-stage builds –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ docker/metadata-action

##### d) Security Scan
**–ó–∞–¥–∞—á–∏:**
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π —Å –ø–æ–º–æ—â—å—é Trivy
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SARIF –æ—Ç—á–µ—Ç–∞
- Upload —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ GitHub Security

##### e) Notifications
**–ó–∞–¥–∞—á–∏:**
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–µ—É–¥–∞—á–µ

### 1.2. Deploy Pipeline (`.github/workflows/deploy.yml`)

#### –¢—Ä–∏–≥–≥–µ—Ä—ã
- Push –Ω–∞ `main` (production deployment)
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (workflow_dispatch)

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
- `environment`: production –∏–ª–∏ staging
- `skip_health_check`: –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å health check

#### Jobs

##### a) Deploy to Production
**–≠—Ç–∞–ø—ã:**
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
2. Pre-deployment backup —á–µ—Ä–µ–∑ `backup.sh`
3. Pull –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–¥–∞
4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. Pull Docker –æ–±—Ä–∞–∑–æ–≤
6. Stop —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
7. Run database migrations
8. Start –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
9. Health check
10. Cleanup —Å—Ç–∞—Ä—ã—Ö Docker –æ–±—Ä–∞–∑–æ–≤
11. Notifications (success/failure)

**–¢—Ä–µ–±—É–µ–º—ã–µ Secrets:**
```
PRODUCTION_HOST
PRODUCTION_SSH_PRIVATE_KEY
DEPLOY_USER
CODECOV_TOKEN (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

##### b) Deploy to Staging
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ production, –Ω–æ –¥–ª—è staging –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–¢—Ä–µ–±—É–µ–º—ã–µ Secrets:**
```
STAGING_HOST
STAGING_SSH_PRIVATE_KEY
DEPLOY_USER
```

##### c) Rollback (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)
–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–±–æ–µ deployment.

**–≠—Ç–∞–ø—ã:**
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH
2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ `rollback.sh`
3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–∫–∞—Ç–µ

##### d) Notify Deployment Status
–°–≤–æ–¥–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –¥–µ–ø–ª–æ–µ–≤.

---

## 2. Deployment Scripts

### 2.1. deploy.sh - Main Deployment Script

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Docker, Docker Compose, Git)
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env
3. ‚úÖ Pre-deployment backup
4. ‚úÖ Pull –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–¥–∞ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
5. ‚úÖ –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
6. ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
7. ‚úÖ –ó–∞–ø—É—Å–∫ database migrations (Alembic)
8. ‚úÖ –ó–∞–ø—É—Å–∫ –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
9. ‚úÖ Health checks
10. ‚úÖ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö Docker –æ–±—Ä–∞–∑–æ–≤
11. ‚úÖ –í—ã–≤–æ–¥ —Å–≤–æ–¥–∫–∏ –¥–µ–ø–ª–æ—è
12. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rollback –ø—Ä–∏ –æ—à–∏–±–∫–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/deploy.sh
./scripts/deploy.sh --skip-backup
./scripts/deploy.sh --skip-health-check
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ (INFO, WARN, ERROR, DEBUG)
- Graceful shutdown –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- Health check —Å retry –ª–æ–≥–∏–∫–æ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π cleanup

---

### 2.2. rollback.sh - Rollback Script

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–∫–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. ‚úÖ Backup —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º
3. ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–º–º–∏—Ç–∞
4. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–º–∏—Ç–µ
5. ‚úÖ Checkout –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
6. ‚úÖ –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
7. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
8. ‚úÖ –û—Ç–∫–∞—Ç database migrations
9. ‚úÖ Health check –ø–æ—Å–ª–µ –æ—Ç–∫–∞—Ç–∞
10. ‚úÖ –í—ã–≤–æ–¥ —Å–≤–æ–¥–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/rollback.sh
./scripts/rollback.sh --to-tag rollback_point_20250205_120000
./scripts/rollback.sh --skip-health-check
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Rollback –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∫–æ–º–º–∏—Ç—É –∏–ª–∏ —Ç–µ–≥—É
- –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (alembic downgrade -1)
- –°–æ–∑–¥–∞–Ω–∏–µ rollback points (git tags)
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

### 2.3. backup.sh - Backup Script

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ backup –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
4. ‚úÖ Backup PostgreSQL:
   - pg_dump —Å –æ–ø—Ü–∏—è–º–∏ --clean, --if-exists
   - –°–∂–∞—Ç–∏–µ —á–µ—Ä–µ–∑ gzip
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ –∏ –ø–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è
5. ‚úÖ Backup MinIO:
   - Backup data volume —á–µ—Ä–µ–∑ Docker
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π backup —á–µ—Ä–µ–∑ mc client
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–∞–∫–µ—Ç–æ–≤
6. ‚úÖ Backup Configuration:
   - .env —Ñ–∞–π–ª
   - docker-compose.yml —Ñ–∞–π–ª—ã
   - Alembic –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - Prometheus –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - Grafana –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - Git state (commit hash, branch, log)
7. ‚úÖ –°–∂–∞—Ç–∏–µ backup –∞—Ä—Ö–∏–≤–∞ (tar.gz)
8. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ backup
9. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö backup (retention policy)
10. ‚úÖ –í—ã–≤–æ–¥ —Å–≤–æ–¥–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/backup.sh
./scripts/backup.sh --type scheduled --keep 7
./scripts/backup.sh --name my_backup --no-compress
./scripts/backup.sh --skip-minio --skip-config
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –¢–∏–ø—ã backup: manual, scheduled, pre-deploy
- Retention policy: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30 backup'–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö backup'–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏–≤–∞ –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ backup'–æ–≤

---

### 2.4. restore.sh - Restore Script

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ backup

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. ‚úÖ –ü–æ–∏—Å–∫ backup (–ø–æ—Å–ª–µ–¥–Ω–∏–π –∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–π)
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ backup
4. ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ backup –∞—Ä—Ö–∏–≤–∞
5. ‚úÖ Restore PostgreSQL:
   - Drop —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - Restore –∏–∑ SQL dump
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
6. ‚úÖ Restore MinIO:
   - –û—á–∏—Å—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ volume
   - Restore –∏–∑ tar.gz –∞—Ä—Ö–∏–≤–∞
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ MinIO –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   - Health check MinIO
7. ‚úÖ Restore Configuration:
   - .env —Ñ–∞–π–ª
   - docker-compose.yml —Ñ–∞–π–ª—ã
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ monitoring —Å–µ—Ä–≤–∏—Å–æ–≤
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
8. ‚úÖ Restore Git state (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
9. ‚úÖ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
10. ‚úÖ Health check
11. ‚úÖ –í—ã–≤–æ–¥ —Å–≤–æ–¥–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/restore.sh
./scripts/restore.sh pre-deploy_20250205_120000.tar.gz
./scripts/restore.sh --skip-config --skip-minio
./scripts/restore.sh --skip-services-start --skip-health-check
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- Graceful restore —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π restore –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Health check –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

### 2.5. health_check.sh - Health Check Script

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (running status)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ PostgreSQL:
   - pg_isready
   - SQL query test
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis:
   - redis-cli ping
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ MinIO:
   - Health endpoint check
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ API:
   - Health endpoint —Å retry –ª–æ–≥–∏–∫–æ–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP 200 response
6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Celery Worker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
7. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Flower (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
8. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Prometheus (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
9. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Grafana (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
10. ‚úÖ –í—ã–≤–æ–¥ —Å–≤–æ–¥–∫–∏ —Å URL —Å–µ—Ä–≤–∏—Å–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/health_check.sh
./scripts/health_check.sh --verbose
./scripts/health_check.sh --quick
./scripts/health_check.sh --url http://localhost:8000/api/v1/health
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Retry –ª–æ–≥–∏–∫–∞ (30 attempts –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π delay –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥ –ø—Ä–∏ --verbose
- Quick mode (5 attempts) –ø—Ä–∏ --quick
- –ü–æ–∫–∞–∑ –ª–æ–≥–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –ù–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (Flower, Prometheus, Grafana) –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç failure

---

## 3. Configuration Files

### 3.1. .env.example

–ü–æ–ª–Ω—ã–π —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è development:
- Database –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Redis –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- MinIO –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- JWT –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Application –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Celery –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- File upload –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- FFmpeg –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Monitoring –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Security –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Email –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Backup –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Deployment –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 3.2. .env.production.example

–ü–æ–ª–Ω—ã–π —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production:
- –í—Å–µ —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —á—Ç–æ –∏ –≤ .env.example
- Production-–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ security –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- SSL/TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Monitoring –∏ alerting –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- Storage paths –¥–ª—è production

### 3.3. scripts/README.md

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º:
- –û–±–∑–æ—Ä –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
- Workflow –¥–µ–ø–ª–æ—è –∏ –æ—Ç–∫–∞—Ç–∞
- Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Troubleshooting guide
- Security considerations
- Maintenance tasks
- Best practices

---

## 4. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 4.1. docs/DEPLOYMENT.md

–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª—ã:

#### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backup.sh –∏ restore.sh
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ backup'–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron jobs

#### CI/CD Pipeline
- –û–ø–∏—Å–∞–Ω–∏–µ CI pipeline
- –û–ø–∏—Å–∞–Ω–∏–µ Deploy pipeline
- –¢—Ä–µ–±—É–µ–º—ã–µ GitHub Secrets
- Jobs –∏ –∏—Ö –∑–∞–¥–∞—á–∏

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ deploy.sh
- Manual zero downtime deployment
- Rollback —á–µ—Ä–µ–∑ rollback.sh
- Workflow –¥–µ–ø–ª–æ—è –∏ –æ—Ç–∫–∞—Ç–∞

---

## 5. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 5.1. –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (set -e, set -u)
- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –ª–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥ (INFO, WARN, ERROR, DEBUG)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ Graceful shutdown –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ prerequisites
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ backup'–æ–≤

### 5.2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ SSH key-based –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ GitHub Secrets –¥–ª—è sensitive –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Confirmation prompts –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ Backup –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- ‚úÖ Automatic rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –¥–µ–ø–ª–æ—è

### 5.3. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- ‚úÖ Health checks –ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ Backup –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –∏ –æ—Ç–∫–∞—Ç–æ–º
- ‚úÖ Retention policy –¥–ª—è backup'–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ backup –∞—Ä—Ö–∏–≤–æ–≤
- ‚úÖ Graceful handling –æ—à–∏–±–æ–∫

### 5.4. –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å timestamp
- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π
- ‚úÖ Help —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ README
- ‚úÖ –í—ã–≤–æ–¥ —Å–≤–æ–¥–∫–∏ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 5.5. –ì–∏–±–∫–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤ (skip —Ñ–ª–∞–≥–∏)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (URL, retries, delay)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ multiple environments (dev, staging, production)
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ confirmation prompts
- ‚úÖ Manual –∏ automatic —Ä–µ–∂–∏–º—ã

---

## 6. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### 6.1. GitHub Secrets

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ secrets –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:

**Production:**
```
PRODUCTION_HOST=your-production-server.com
PRODUCTION_SSH_PRIVATE_KEY=<–ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á>
DEPLOY_USER=deploy
CODECOV_TOKEN=<—Ç–æ–∫–µ–Ω Codecov (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)>
```

**Staging (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```
STAGING_HOST=your-staging-server.com
STAGING_SSH_PRIVATE_KEY=<–ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á>
DEPLOY_USER=deploy
```

### 6.2. SSH Keys

1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SSH key pair –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
ssh-keygen -t rsa -b 4096 -C "deploy@ffmpeg-api" -f ~/.ssh/deploy_key
```

2. –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∫ authorized_keys:
```bash
cat ~/.ssh/deploy_key.pub >> ~/.ssh/authorized_keys
```

3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ GitHub Secrets

### 6.3. Server Configuration

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- Docker 20.10+
- Docker Compose 2.0+
- Git
- curl
- gzip
- tar

### 6.4. Cron Jobs

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö backup'–æ–≤:
```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π backup –≤ 2:00 AM
0 2 * * * /opt/ffmpeg-api/scripts/backup.sh --type scheduled --keep 30
```

### 6.5. Permissions

–°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏:
```bash
chmod +x scripts/*.sh
```

---

## 7. Testing

### 7.1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ

**Test deployment:**
```bash
# Dry run —Å skip-health-check
./scripts/deploy.sh --skip-health-check

# Test backup
./scripts/backup.sh --name test_backup --no-compress

# Test restore
./scripts/restore.sh test_backup --skip-services-start --skip-health-check

# Test health check
./scripts/health_check.sh --quick
```

### 7.2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GitHub Actions

1. –°–æ–∑–¥–∞—Ç—å feature branch
2. –°–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ commit
3. –°–æ–∑–¥–∞—Ç—å Pull Request
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ CI pipeline
5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ CI, merge –≤ main
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Deploy pipeline

### 7.3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ rollback

1. –°–¥–µ–ª–∞—Ç—å intentional bug –≤ –∫–æ–¥–µ
2. Deploy —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ health check fails
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å automatic rollback
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

---

## 8. –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------|----------|
| 1. –°–æ–∑–¥–∞—Ç—å .github/workflows/ci.yml | ‚úÖ | CI pipeline —Å linting, tests, build, security scan |
| 2. –°–æ–∑–¥–∞—Ç—å .github/workflows/deploy.yml | ‚úÖ | Deploy pipeline —Å backup, deploy, health check, notifications |
| 3. –°–æ–∑–¥–∞—Ç—å scripts/deploy.sh | ‚úÖ | –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç —Å rollback on failure |
| 4. –°–æ–∑–¥–∞—Ç—å scripts/rollback.sh | ‚úÖ | Rollback —Å–∫—Ä–∏–ø—Ç —Å git –∏ database rollback |
| 5. –°–æ–∑–¥–∞—Ç—å scripts/backup.sh | ‚úÖ | Backup —Å–∫—Ä–∏–ø—Ç –¥–ª—è PostgreSQL, MinIO, config |
| 6. –°–æ–∑–¥–∞—Ç—å scripts/restore.sh | ‚úÖ | Restore —Å–∫—Ä–∏–ø—Ç —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ confirmation prompts |
| 7. –°–æ–∑–¥–∞—Ç—å scripts/health_check.sh | ‚úÖ | Health check —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ |
| 8. –°–æ–∑–¥–∞—Ç—å .env.example | ‚úÖ | –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è development |
| 9. –°–æ–∑–¥–∞—Ç—å .env.production.example | ‚úÖ | –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production |
| 10. –°–æ–∑–¥–∞—Ç—å scripts/README.md | ‚úÖ | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º |
| 11. –û–±–Ω–æ–≤–∏—Ç—å docs/DEPLOYMENT.md | ‚úÖ | –î–æ–±–∞–≤–ª–µ–Ω–∞ CI/CD —Å–µ–∫—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ backup —Å–µ–∫—Ü–∏—è |

---

## 9. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### 9.1. –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π CI/CD pipeline
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π deployment —Å rollback
‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
‚úÖ Health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ sensitive –¥–∞–Ω–Ω—ã—Ö
‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 9.2. Production Ready Status

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π CI/CD pipeline –∏ —Å–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production:

1. ‚úÖ –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ rollback –ø—Ä–∏ —Å–±–æ—è—Ö
3. ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
4. ‚úÖ Health checks –ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è debugging
6. ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ sensitive –¥–∞–Ω–Ω—ã—Ö
7. ‚úÖ –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
8. ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 9.3. Next Steps

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Secrets
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –≤ staging –æ–∫—Ä—É–∂–µ–Ω–∏–∏
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å automatic backup schedule (cron)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å monitoring alerts (Prometheus, Grafana)
5. –°–æ–∑–¥–∞—Ç—å disaster recovery plan
6. –†–µ–≥—É–ª—è—Ä–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å restore procedures

---

**–ü–æ–¥–∑–∞–¥–∞—á–∞ 5.6 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!** üéâ
